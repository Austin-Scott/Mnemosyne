extends layouts/layout.pug
include includes/tabs.pug
include includes/datetimepicker.pug
include includes/collapse.pug

block append cdn
  +addDateTimePickerCode
  script(src='https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js')
  script(src='https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js')

block content
  +tabBar('List', 'Create')
  +beginTabPanel
    +addFirstTab('List')
      br/
      +tabBar('Pending', 'All')
      +beginTabPanel
        +addFirstTab('Pending')
          br/
          table(class='table table-dark table-hover', id='pendingTaskTable')
            thead
              tr
                th(scope='col') Description
                th(scope='col') Tags
                th(scope='col') Due
                th(scope='col') Urgency
            tbody
              each task in tasks
                tr(class='clickable-row', data-href='/taskw/'+task.uuid, style='cursor: pointer')
                  td #{task.description}
                  td #{task.tags}
                  td #{task.due}
                  td #{task.urgency}
        +addOtherTab('All')
          br/
          table(class='table table-dark table-hover', id='allTaskTable')
            thead
              tr
                th(scope='col') Description
                th(scope='col') Status
                th(scope='col') End
            tbody
              each task in allTasks
                tr(class='clickable-row', data-href='/taskw/'+task.uuid, style='cursor: pointer')
                  td #{task.description}
                  td #{task.status}
                  td #{task.end}
    +addOtherTab('Create')
      br/
      label(for='desc') Task Description:
      input(type='text', class='form-control', id='desc', placeholder='Describe task here')
      hr/
      +collapsePanel('advOps', 'Show advanced options')
        label(for='due') Task due:
        +addDateTimePicker('dueDate')
      hr/
      input(type='button', class='btn btn-lg btn-block btn-success', value='Create task', id='createTaskButton', onclick='create()')

block append scripts
  script(src='/scripts/taskw/tableRows.js')
  script(src='/scripts/taskw/create.js')